<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<input type="file" name="fileName" id="fileName" onchange="text()">

	<script>
		var num = '27584.329723923982398239';

		function startNum(input) {
			if(input === '') return input;
			if(!Number(input)) return input;
			let num = Number(input);
			if(num < 0.1) return Math.ceil(num*100) >= 10 ? Math.ceil(num*100)/10 + '角' : Math.ceil(num*100)+'分';
			if(num < 1) return Math.ceil(num*10) >= 10? Math.ceil(num*10)/10 +'元' : Math.ceil(num*10)+'角';
			if(num < 10000) return Math.ceil(num) >= 10000 ? money(Math.ceil(num/10000))+'万' : money(Math.ceil(num)) + '元';
			// 大于 1千万 需要保留两位小数  以下判断需重写
			if(num >= 10000 && num < 10000000) return Math.ceil(num) >= 10000000 ? money(Math.ceil(num/10000000))+'千万' : money(Math.ceil(num/10000))+'万';
			if(num >= 10000000) return money(Math.ceil(num/10000000))+'千万';
		}

		// 添加千分位符号
		function money(s) {
			if (s == '--') {
			  return s;
			}
			// 判断数字是正数还是负数
			let minus = false;
			// 数字转字符串
			s = s + '';
			if (s.substring(0, 1) == '-') {
			  minus = true;
			  s = parseFloat(s.substring(1).replace(/[^\d\.-]/g, '')).toFixed(2) + '';
			} else {
			  s = parseFloat(s.replace(/[^\d\.-]/g, '')).toFixed(2) + '';
			}
			let l = s.split('.')[0].split('').reverse(),
			  r = s.split('.')[1];
			let t = '';
			for (let i = 0; i < l.length; i++) {
			  t += l[i] + ((i + 1) % 3 == 0 && (i + 1) != l.length ? ',' : '');
			}
			if (minus) {
			  return '-' + t.split('').reverse().join('') ;
			} else {
			  return t.split('').reverse().join('') ;
			}
		}

		console.log(startNum(num))
	</script>
</body>
</html>